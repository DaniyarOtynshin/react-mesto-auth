{"version":3,"sources":["images/Logo.svg","components/Header.js","images/Pen.svg","images/Edit_Button.svg","images/Cross.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/api.js","utils/auth.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","images/Union.svg","images/UnionReject.svg","components/InfoTooltip.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/Footer.js","components/App.js","reportWebVitals.js","index.js"],"names":["withRouter","props","className","src","logoPath","alt","loggedIn","email","onClick","onSignOut","to","location","pathname","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onCardDelete","name","onCardClick","link","onCardLike","length","Main","onEditAvatar","penPath","avatar","onEditProfile","editButtonPath","about","onAddPlace","crossPath","cards","map","item","ImagePopup","isOpen","onClose","api","url","authorization","this","_url","_authorization","res","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","method","body","JSON","stringify","id","dislike","like","all","getInitialCards","getUserInfo","auth","getContent","token","data","password","PopupWithForm","noValidate","onSubmit","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","minLength","maxLength","value","onChange","target","required","placeholder","EditAvatarPopup","avatarLink","setAvatarLink","handleClose","onUpdateAvatar","current","AddPlacePopup","setLink","InfoTooltip","successRegistration","unionPathSuccess","unionPathReject","Login","setEmail","setPassword","onLogin","Register","onRegister","ProtectedRoute","Component","component","Footer","App","setCurrentUser","setLoggedIn","setSuccessRegistration","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfooTooltipOpen","setIsInfooTooltipOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCards","history","useHistory","closeAllPopups","setTimeout","login","localStorage","setItem","push","catch","err","console","log","register","onInfooTooltipClose","error","getItem","tokenCheck","Provider","removeItem","path","changeLikeCardStatus","newCard","newCards","c","deleteCard","_","filter","render","userInfo","changeUserInfo","cardInfo","addNewCard","changeUserPhoto","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.05aecdf8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.8724261e.svg\";","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport logoPath from '../images/Logo.svg';\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header className=\"header page__header\">\r\n            <img src={logoPath} alt=\"логотип\" className=\"header__logo\" />\r\n            {props.loggedIn\r\n                ? <ul className=\"header__links\">\r\n                    <li className=\"header__auth header__auth_email\">{props.email}</li>\r\n                    <li><button onClick={props.onSignOut} className=\"header__button\">Выйти</button></li>\r\n                </ul>\r\n                : <Link\r\n                to={props.location.pathname === '/sign-in' ? '/sign-up' : '/sign-in'}\r\n                className=\"header__auth\">{props.location.pathname === '/sign-in' ? 'Регистрация' : 'Войти'}</Link>\r\n            }\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default withRouter(Header);","export default __webpack_public_path__ + \"static/media/Pen.a086f758.svg\";","export default __webpack_public_path__ + \"static/media/Edit_Button.f0dd9c51.svg\";","export default __webpack_public_path__ + \"static/media/Cross.bed8c136.svg\";","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import { useContext } from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete ${isOwn ? '' : 'element__delete_inactive'}`\r\n    );\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `element__button ${isLiked ? 'element__button_active' : ''}`;\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card)\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card)\r\n    }\r\n\r\n    function handleDeleteCard() {\r\n        props.onCardDelete(props.card)\r\n    }\r\n\r\n    return (\r\n        <li className=\"element\">\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteCard} />\r\n            <img alt={props.card.name} className=\"element__image\" onClick={handleClick} src={props.card.link} />\r\n            <div className=\"element__info\">\r\n                <h3 className=\"element__title\">{props.card.name}</h3>\r\n                <div className=\"element__like-section\">\r\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} />\r\n                    <span className=\"element__likes\">{props.card.likes.length}</span>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card;","import penPath from '../images/Pen.svg';\r\nimport editButtonPath from '../images/Edit_Button.svg';\r\nimport crossPath from '../images/Cross.svg';\r\nimport Card from './Card';\r\nimport React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <>\r\n            <main className=\"content page__content\">\r\n                <section className=\"profile\">\r\n                    <div className=\"profile__passport\">\r\n                        <div onClick={props.onEditAvatar} className=\"profile__photo-container\">\r\n                            <div className=\"profile__change-photo-overlay\">\r\n                                <img src={penPath} alt=\"Кнопка изменить\" className=\"profile__change-photo\" />\r\n                            </div>\r\n                            <img alt=\"Аватарка\" className=\"profile__avatar\" src={currentUser.avatar} />\r\n                        </div>\r\n                        <div className=\"profile__profile-info\">\r\n                            <div className=\"profile__name-button\">\r\n                                <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                                <button type=\"button\" onClick={props.onEditProfile} className=\"profile__edit-button\">\r\n                                    <img src={editButtonPath} alt=\"Кнопка изменить\" className=\"profile__pen\" />\r\n                                </button>\r\n                            </div>\r\n                            <p className=\"profile__description\">{currentUser.about}</p>\r\n                        </div>\r\n                    </div>\r\n                    <button type=\"button\" onClick={props.onAddPlace} className=\"profile__add-button\">\r\n                        <img src={crossPath} alt=\"Кнопка добавить\" className=\"profile__cross\" />\r\n                    </button>\r\n                </section>\r\n                <section className=\"elements\">\r\n                    <ul className=\"elements__grid\">\r\n                        {\r\n                            props.cards.map(item => (\r\n                                <Card\r\n                                    key={item._id}\r\n                                    card={item}\r\n                                    onCardClick={props.onCardClick}\r\n                                    onCardLike={props.onCardLike}\r\n                                    onCardDelete={props.onCardDelete}\r\n                                />)\r\n                            )\r\n                        }\r\n                    </ul>\r\n                </section>\r\n            </main>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n    return (\r\n        <section className={`popup-image ${props.isOpen ? 'popup_active' : ''}`}>\r\n            <div className=\"popup-image__pic\">\r\n                <button type=\"button\" onClick={props.onClose} className=\"popup__button\" />\r\n                <img alt={props.card.name} src={props.card.link} className=\"popup-image__image\" />\r\n                <h2 className=\"popup-image__title\">{props.card.name}</h2>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n    constructor(url, authorization) {\r\n        this._url = url;\r\n        this._authorization = authorization;\r\n    };\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n          }\r\n          return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n      };\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._url}cards`, {\r\n            headers: {\r\n              authorization: this._authorization\r\n            }\r\n          })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    changeUserInfo({ name, about }) {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n              name: name,\r\n              about: about\r\n            })\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    addNewCard({ name, link }) {\r\n        return fetch(`${this._url}cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n              name: name,\r\n              link: link\r\n            })\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    changeUserPhoto( {link} ) {\r\n        return fetch(`${this._url}users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n            avatar: link\r\n            })\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}users/me`, {\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    like(id) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    dislike(id) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        return isLiked\r\n        ? this.dislike(id)\r\n        : this.like(id)\r\n    };\r\n\r\n    renderPage() {\r\n        return Promise.all([this.getInitialCards(), this.getUserInfo()])\r\n    }\r\n}\r\n\r\nconst api = new Api('https://mesto.nomoreparties.co/v1/cohort-18/', '992a3ad3-237d-4b2f-8424-0245e20d32b7');\r\n\r\nexport default api;\r\n","class Auth {\r\n    constructor(url) {\r\n        this._url = url;\r\n    };\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n          }\r\n          return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n      };\r\n\r\n    login(password, email) {\r\n        return fetch(`${this._url}/signin`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({password, email})\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    register(password, email) {\r\n        return fetch(`${this._url}/signup`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({password, email})\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    getContent = (token) => {\r\n        return fetch(`${this._url}/users/me`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n          }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => data)\r\n      } \r\n};\r\n\r\nconst auth = new Auth('https://auth.nomoreparties.co');\r\n\r\nexport default auth;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <section className={`popup popup_${props.name} ${props.isOpen ? 'popup_active' : ''}`}>\r\n            <form name='info' className={`popup__form popup__form_${props.name}`} noValidate onSubmit={props.onSubmit}>\r\n                <button type='button' className='popup__button' onClick={props.onClose} />\r\n                <h2 className='popup__title'>{props.title}</h2>\r\n                {props.children};\r\n                <button type='submit' className={`popup__submit-button ${props.name === 'submit-form' ? 'popup__submit-button_submit-form' : ''}`}>{props.buttonText}</button>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n      } \r\n\r\n    return (\r\n        <PopupWithForm name=\"edit\" isOpen={props.isOpen} title=\"Редактировать профиль\" onClose={props.onClose} buttonText=\"Сохранить\" onSubmit={handleSubmit}>\r\n            <section className=\"popup__section\">\r\n                <input type=\"text\" minLength=\"2\" maxLength=\"40\" name=\"name\" id=\"name-input\" value={name} onChange={handleChangeName} required placeholder=\"Имя\" className=\"popup__input\" />\r\n                <span className=\"popup__input-error\" id=\"name-input-error\" />\r\n            </section>\r\n            <section className=\"popup__section\">\r\n                <input type=\"text\" minLength=\"2\" maxLength=\"200\" name=\"about\" id=\"description-input\" value={description} onChange={handleChangeDescription} required placeholder=\"О себе\" className=\"popup__input\" />\r\n                <span className=\"popup__input-error\" id=\"description-input-error\" />\r\n            </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const [avatarLink, setAvatarLink] = useState('')\r\n\r\n    function handleAvatarLink(e) {\r\n        setAvatarLink(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n            link: avatarLink.current.value,\r\n        });\r\n        handleClose();\r\n    }\r\n\r\n    function handleClose() {\r\n        props.onClose()\r\n        setAvatarLink('');\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"change-photo\" isOpen={props.isOpen} title=\"Обновить аватар\" onClose={handleClose} onSubmit={handleSubmit} buttonText=\"Сохранить\">\r\n            <section className=\"popup__section\">\r\n                <input type=\"url\" name=\"link\" value={avatarLink} onChange={handleAvatarLink} id=\"avatarLink-input\" required placeholder=\"Ссылка на картинку\" className=\"popup__input\" />\r\n                <span className=\"popup__input-error\" id=\"avatarLink-input-error\" />\r\n            </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function handleAddPlaceSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n          name, link\r\n        });\r\n        handleClose();\r\n    }\r\n\r\n    function handleClose() {\r\n        props.onClose()\r\n        setName('');\r\n        setLink('');\r\n    }\r\n\r\n    function handleName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"add\" isOpen={props.isOpen} title=\"Новое место\" onClose={handleClose} buttonText=\"Создать\" onSubmit={handleAddPlaceSubmit}>\r\n            <section className=\"popup__section\">\r\n                <input type=\"text\" minLength=\"2\" maxLength=\"30\" name=\"name\" id=\"title-input\" required placeholder=\"Название\" className=\"popup__input\" value={name} onChange={handleName} />\r\n                <span className=\"popup__input-error\" id=\"title-input-error\" />\r\n            </section>\r\n            <section className=\"popup__section\">\r\n                <input type=\"url\" name=\"link\" id=\"link-input\" required placeholder=\"Ссылка на картинку\" className=\"popup__input\" value={link} onChange={handleLink} />\r\n                <span className=\"popup__input-error\" id=\"link-input-error\" />\r\n            </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","export default __webpack_public_path__ + \"static/media/Union.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/UnionReject.df8eddf6.svg\";","import unionPathSuccess from '../images/Union.svg';\r\nimport unionPathReject from '../images/UnionReject.svg';\r\n\r\nconst InfoTooltip = (props) => {\r\n    return (\r\n        <div className={`popup ${props.isOpen && \"popup_active\"}`}>\r\n            <div className=\"popup-infotooltip\">\r\n                <button className=\"popup__button\" onClick={props.onClose} />\r\n                <img alt=\"Успешно!\" className=\"popup-infotooltip__union\" src={\r\n                    props.successRegistration\r\n                    ? unionPathSuccess\r\n                    : unionPathReject}\r\n                />\r\n                <h1 className=\"popup-infotooltip__text\">{\r\n                    props.successRegistration\r\n                    ? 'Вы успешно зарегистрировались!'\r\n                    : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n                </h1>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;","import { useState } from 'react';\r\nimport InfoTooltip from './InfoTooltip';\r\n\r\nconst Login = (props) => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    function handleLoginSubmit(e) {\r\n        e.preventDefault();\r\n        if (!email || !password) {\r\n            return;\r\n        } else {\r\n            props.onLogin(password, email);\r\n            setEmail('');\r\n            setPassword('');\r\n        }\r\n    }\r\n\r\n    function handleEmail(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handlePassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n    return (\r\n        <section className=\"login\">\r\n            <h1 className=\"login__title\">Вход</h1>\r\n            <form className=\"login__form\">\r\n                <input type=\"text\" onChange={handleEmail} value={email} placeholder=\"Email\" className=\"login__input\" />\r\n                <input type=\"password\" onChange={handlePassword} value={password} placeholder=\"Пароль\" className=\"login__input\" />\r\n                <button onClick={handleLoginSubmit} className=\"login__button\">Войти</button>\r\n            </form>\r\n            <InfoTooltip isOpen={props.isOpen} successRegistration={props.successRegistration} onClose={props.onClose} />\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login;","import { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport InfoTooltip from './InfoTooltip';\r\n\r\nconst Register = (props) => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    function handleRegisterSubmit(e) {\r\n        e.preventDefault();\r\n        if (!email || !password) {\r\n            return;\r\n        }\r\n        props.onRegister(password, email);\r\n        setEmail('');\r\n        setPassword('');\r\n    }\r\n\r\n    function handleEmail(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handlePassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <section className=\"login\">\r\n            <h1 className=\"login__title\">Регистрация</h1>\r\n            <form className=\"login__form\">\r\n                <input type=\"text\" id=\"email\" onChange={handleEmail} value={email} placeholder=\"Email\" className=\"login__input\" />\r\n                <input type=\"password\" onChange={handlePassword} value={password} placeholder=\"Пароль\" className=\"login__input\" />\r\n                <button onClick={handleRegisterSubmit} className=\"login__button login__button_register\">Зарегистрироваться</button>\r\n            </form>\r\n            <Link to=\"/sign-in\" className=\"login__subtext\">Уже зарегистрированы? Войти</Link>\r\n            <InfoTooltip isOpen={props.isOpen} successRegistration={props.successRegistration} onClose={props.onClose} />\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Register;","import { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n        {\r\n            () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n        }\r\n        </Route>\r\n    )\r\n};\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer page__footer\">\r\n            <p className=\"footer__text\">© 2021 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import { useEffect, useState } from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport ImagePopup from './ImagePopup';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport auth from '../utils/auth';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport Footer from './Footer';\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [email, setEmail] = useState('');\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [successRegistration, setSuccessRegistration] = useState(false);\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isInfooTooltipOpen, setIsInfooTooltipOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false)\n  const [selectedCard, setSelectedCard] = useState({})\n  const [cards, setCards] = useState([]);\n\n\n\n  const history = useHistory();\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false)\n    setTimeout(() => setSelectedCard({}), 1000);\n  }\n\n  function handleUpdateAvatar(link) {\n    api.changeUserPhoto(link)\n      .then(data => {\n        setCurrentUser(data);\n      })\n      .catch(err => console.error(err))\n  }\n\n  function handleUpdateUser(userInfo) {\n    api.changeUserInfo(userInfo)\n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(err => console.error(err))\n  }\n\n  function onLogin(password, email) {\n    auth.login(password, email)\n      .then(data => {\n        if (data.token) {\n          setEmail(email);\n          setLoggedIn(true);\n          localStorage.setItem('token', data.token);\n          history.push('/')\n        }\n      })\n      .catch(err => {\n        setSuccessRegistration(false);\n        setIsInfooTooltipOpen(true);\n        console.log(err)\n      })\n  }\n\n  function onRegister(password, email) {\n    auth.register(password, email)\n      .then(data => {\n        if (data.data._id) {\n          setSuccessRegistration(true);\n          setIsInfooTooltipOpen(true);\n        }\n      })\n  };\n\n  function onSignOut() {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  };\n\n  function onInfooTooltipClose() {\n    history.push('/sign-in');\n    setIsInfooTooltipOpen(false);\n  }\n\n  function tokenCheck() {\n    if (localStorage.getItem('token')) {\n      const token = localStorage.getItem('token');\n      auth.getContent(token).then((res) => {\n        if (res) {\n          setLoggedIn(true);\n          setEmail(res.data.email);\n          history.push('/');\n        }\n      })\n    }\n  };\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.error(err))\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then((_) => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch(err => console.error(err))\n  }\n\n  function handleAddPlace(cardInfo) {\n    api.addNewCard(cardInfo)\n      .then((newCard) => {\n        setCards([newCard, ...cards])\n      })\n      .catch(err => console.error(err))\n  }\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then(data => setCurrentUser(data))\n      .catch(err => console.error(err))\n  }, [])\n\n  useEffect(() => {\n    api.getInitialCards()\n      .then(cards => {\n        setCards(cards)\n      })\n      .catch(err => console.error(err))\n  }, []);\n\n  useEffect(() => {\n    tokenCheck()\n  });\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header loggedIn={loggedIn} email={email} onSignOut={onSignOut} />\n          <Switch>\n            <ProtectedRoute path='/react-mesto-auth/'\n              loggedIn={loggedIn}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              component={Main} />\n            <Route path='/sign-in' render={() => <Login\n              onLogin={onLogin}\n              isOpen={isInfooTooltipOpen}\n              successRegistration={successRegistration}\n              onClose={onInfooTooltipClose}\n            />} />\n            <Route path='/sign-up' render={() => <Register\n              onRegister={onRegister}\n              isOpen={isInfooTooltipOpen}\n              successRegistration={successRegistration}\n              onClose={onInfooTooltipClose}\n            />} />\n          </Switch>\n          <Footer />\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n          <ImagePopup isOpen={isImagePopupOpen} card={selectedCard} onClose={closeAllPopups} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}